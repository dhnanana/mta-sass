<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sass Test</title>
	<link rel="stylesheet" href="./css/common.css">
	<link rel="stylesheet" href="./css/main_pc.css" type="text/css"/>
	<!-- <link rel="stylesheet" href="./css/main_pc.css" type="text/css" media="screen and (min-width:1400px)"> -->
	<!-- <link rel="stylesheet" href="./css/main_mobile.css" type="text/css" media="screen and (min-width:0px) and (max-width: 1399px)"> -->
	<script src="./js/commonJs.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://kit.fontawesome.com/96ef2855d9.js" crossorigin="anonymous"></script>
	<script src="./plugins/jquery-ui/jquery-ui.min.js"></script>
	<script src="./js/setting.js"></script>
</head>
<body>
<div id="" class="mainContainer"></div>	
	<header id="mainHeader" class="container">
		<div class="backDrop"></div>
		<div class="backStage"></div>
		<h3 class="logo"><a href="/">MTA</a></h3>
		<nav class="nav" id="mainGnb">
			<button class="gnb_hamburger"><i class="fa fa-bars"></i></button>
			<button class="gnb_util"><i class="far fa-user"></i></button>
			<div class="menuList">
				<ul>
					<li class="mainMenu"><a href="#">서비스소개</a>
						<ul class="subMenu">
							<li><a href="#">실시간테스트</a></li>
							<li><a href="#">클라우드 디버깅</a></li>
							<li><a href="#">모니터링</a></li>
							<li><a href="#">구축형 MTA</a></li>
						</ul>
					</li>
					<li class="mainMenu"><a href="#">지원단말기</a>
						<ul class="subMenu">
							<li><a href="#">안드로이드</a></li>
							<li><a href="#">IOS</a></li>
						</ul>
					</li>
					<li class="mainMenu"><a href="#">가격안내</a>
						<ul class="subMenu">
							<li><a href="#">포인트 충전</a></li>
							<li><a href="#">정기구독</a></li>
						</ul>
					</li>
					<li class="mainMenu"><a href="#">이용안내</a>
						<ul class="subMenu">
							<li><a href="#">고객사례</a></li>
							<li><a href="#">사용방법</a></li>
						</ul>
					</li>
					<li class="mainMenu"><a href="#">고객센터</a>
						<ul class="subMenu">
							<li><a href="#">공지사항</a></li>
							<li><a href="#">1:1 문의</a></li>
							<li><a href="#">FAQ</a></li>
						</ul>
					</li>
					<li class="mainMenu"><a href="#">협력사지원</a>
						<ul class="subMenu">
							<li><a href="#">공지사항</a></li>
							<li><a href="#">고객사 현황</a></li>
							<li><a href="#">솔루션 다운로드</a></li>
							<li><a href="#">파트너사 정보수정</a></li>
							<li><a href="#">Q&A</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>
		<div class="buttonSet">
			<div class="login">
				<ul>
					<li><a href="">로그인</a></li>
					<li><a href="">회원가입</a></li>
					<li><a href="">문의하기</a></li>
				</ul>
			</div>
			<p class="language">
				<button class="language on">KR</button>
				<button class="language">EN</button>
			</p>
		</div>
		<script>
			let loadStateContent = null;
			$(document).ready(function(){

				loadStateContent = function( statusInfo ){ console.log( 'statusInfo : ' , statusInfo );
					if( statusInfo === null ) location.href = '/';
					targetMain.load( statusInfo.url , function(){
						console.log( 'load complete' );
						//window.history.pushState( statusInfo , '', statusInfo.location );
					});
				};

				let targetMain = $('#mainContainer');

				window.addEventListener("popstate", function(event) { //console.log(event.state);
					//alert("location: " + document.location + ", state: " + JSON.stringify(event.state));
					loadStateContent(event.state);
				});

				let navContainer = $('#mainHeader');
				let hoverTarget = $('#mainHeader').find('nav.nav , div.backDrop');
				hoverTarget.hover(function(e , v){
					navContainer.addClass('active');
				},function(){
					navContainer.removeClass('active');
				});

				const currentUrl = location.href;
				let menuButtons = navContainer.find('li.mainMenu a'); console.log( menuButtons );
				

				menuButtons.each(function( idx , target ){
					console.log( idx , target );
					if( idx === 0 ) $(this).data( { page : idx , url : './pages/guide.html?no=1' , history : 'introduce' } );
					if( idx === 1 ) $(this).data( { page : idx , url : './pages/guide.html?no=2' , history : 'introduce1' } );
					if( idx === 2 ) $(this).data( { page : idx , url : './pages/guide.html?no=3' , history : 'introduce2' } );
					if( idx === 3 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce3' } );
					if( idx === 4 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce4' } );
					if( idx === 5 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce5' } );
					if( idx === 6 ) $(this).data( { page : idx , url : './pages/supportDevices.html' , history : 'introduce6' } );
					if( idx === 7 ) $(this).data( { page : idx , url : './pages/supportDevices.html' , history : 'introduce7' } );
					if( idx === 8 ) $(this).data( { page : idx , url : './pages/payment_infomation.html' , history : 'introduce8' } );
					if( idx === 9 ) $(this).data( { page : idx , url : './pages/payment_infomation.html' , history : 'introduce9' } );
					if( idx === 10 ) $(this).data( { page : idx , url : '/pages/payment_infomation2.html' , history : 'introduc10' } );
					if( idx === 11 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce11' } );
					if( idx === 12 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce12' } );
					if( idx === 13 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce13' } );
					if( idx === 14 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce14' } );
					if( idx === 15 ) $(this).data( { page : idx , url : './pages/notice.html' , history : 'introduce15' } );
					if( idx === 16 ) $(this).data( { page : idx , url : './pages/question.html' , history : 'introduce16' } );
					if( idx === 17 ) $(this).data( { page : idx , url : './pages/faq.html' , history : 'introduce17' } );
					if( idx === 18 ) $(this).data( { page : idx , url : './pages/guide.html' , history : 'introduce18' } );
					if( idx === 19 ) $(this).data( { page : idx , url : './pages/partners_notice.html' , history : 'introduce19' } );
					if( idx === 20 ) $(this).data( { page : idx , url : './pages/partners_customer_list.html' , history : 'introduce20' } );
					if( idx === 21 ) $(this).data( { page : idx , url : './pages/partners_solution.html' , history : 'introduce21' } );
					if( idx === 22 ) $(this).data( { page : idx , url : './pages/partners_info_change.html' , history : 'introduce22' } );
					if( idx === 23 ) $(this).data( { page : idx , url : './pages/partners_qna.html' , history : 'introduce23' } );
				}).on('click' , function(e){
					e.preventDefault();
					//console.log( $(this).data() );
					let itemData = $(this).data()
					loadStateContent( { page : itemData.page , url : itemData.url , location : itemData.history } );
				});

				$('div.login li a').each(function(idx , target){ 
					console.log( 'div.login li : ' , idx , target );
					if( idx === 0 )  $(this).data( { page : 'login' + idx , url : './pages/members_login.html' , history : 'join login' } );
					if( idx === 1 )  $(this).data( { page : 'jpin' + idx , url : './pages/members_join.html' , history : 'join members' } );
					if( idx === 2 )  $(this).data( { page : 'jpin' + idx , url : './pages/question_write.html' , history : 'q_detail' } );
				}).on('click' , function(e){
					e.preventDefault();
					let itemData = $(this).data()
					loadStateContent( { page : itemData.page , url : itemData.url , location : itemData.history } );
				});

				$('button.gnb_hamburger').click(function(){
					let target = $('#mainHeader');
					if( target.hasClass('active') ) target.removeClass('active');
					else target.addClass('active');
				});

				$('button.gnb_util').click(function(){
					let target = $('#mainHeader').find('.buttonSet');
					if( target.hasClass('active') ) target.removeClass('active');
					else target.addClass('active');
				});
			});
		</script>
	</header>
	<div id="mainContainer" class="main">
		
		<section class="sectionCon" id="mainVisual-1">
			<div class="visual-container">
				<div class="textContainer">
					<div class="textAnimation">
						<div class="innerCon">
							<h3>클라우드 기반 실 단말기<br/>테스트 서비스</h3>
							<h5>실제 iOS 및 Android 기기에서<br/>수동 테스트 및 자동테스트를 실행 합니다.</h5>
						</div>
						<div class="innerCon">
							<h3>자동/수동<br/>테스트 범위 확장</h3>
							<h5>여러대의 단말기를 동시에 사용하여,<br/>효율성 높은 테스트를 지원 합니다.</h5>
						</div>
						<div class="innerCon">
							<h3>뛰어난 모바일 테스트 경험</h3>
							<h5>App 개발자 도구 통합 지원 및 내장된<br/>결함관리 서비스를 지원 합니다.</h5>
						</div>
						<div class="innerCon">
							<h3>지속적인 모바일 앱<br/>품질 달성</h3>
							<h5>테스트관리 시스템을 기반으로 한 예약 수행으로<br/>동일한 품질의 앱테스트를 지원 합니다.</h5>
						</div>
						<div class="simbolCounter"></div>
					</div>
					<a id="testGoButton" href="/Test"><span class="hoverCon"></span>테스트 시작</a>
					<script>
						$(document).ready(function(){
							var curInd = 0;
							var animationContainer = $('#mainVisual-1');
							var aniTarget = animationContainer.find('div.textAnimation .innerCon');
							var counterContainer = animationContainer.find('div.simbolCounter');
							function createAnimation(){
								var counterObj = $('<span class="counterCon">&nbsp;</span>');
								aniTarget.each(function(idx , obj){
									var clonsCounter = counterObj.clone();
									counterContainer.append( clonsCounter );
									clonsCounter.on('click' , function(){ console.log( 'counter! : ' , idx );
										nextAnimation( idx );
									});
								});
								counterContainer = counterContainer.find('span.counterCon');
								nextAnimation( curInd );

								setInterval(function(){
									curInd += 1;
									if( curInd >= aniTarget.length ) curInd = 0;
									nextAnimation( curInd );
								} , 5000);
							}
							
							function nextAnimation(idx){
								curInd = idx;
								aniTarget.removeClass('on').eq(curInd).addClass('on');
								counterContainer.removeClass('on').eq(curInd).addClass('on');
							}

							createAnimation();
						});
					</script>
				</div>
				<div class="bgObj-1">
					<img src="./images/download/topvision-device.png" alt="main visual">
				</div>
			</div>
		</section>

		<section class="sectionCon" id="mainVisual-2">
			<div class="visual-container">
				<div class="visual-title">
					<h2>SERVICE</h2>
					<h3>가장 빠른 최신 단말기 사용 환경 제공개발자 디버깅과 품질팀을 위한 모니터링 환경 제공</h3>
				</div>
				<div class="prodCon contents">
					<div class="product">
						<h5>Real Time Test</h5>
						<p>원격 센터의 단말기 팜 접속 실시간으로 다수 단말기를 선택하여 동시 제어 테스트를 수행합니다.</p>
						<button class="serviceGo">시작하기</button>
						<button class="serviceDetail">자세히보기</button>
					</div>
					<div class="product">
						<h5>Cloud Debugging</h5>
						<p>개발자 본인 PC와 원격 센터에 있는 필요한 단말기를 선택 연결하여 디버깅(Debugging) 환경을 구성 지원 합니다.</p>
						<button class="serviceGo">시작하기</button>
						<button class="serviceDetail">자세히보기</button>
					</div>
					<div class="product">
						<h5>Monitoring</h5>
						<p>검증 시나리오를 예약한 시간에 자동 실행하여 오류 확인 및 정상 여부 체크 결과 알림을 받을 수 있습니다.</p>
						<button class="serviceGo">시작하기</button>
						<button class="serviceDetail">자세히보기</button>
					</div>
				</div>
			</div>
		</section>

		<section class="sectionCon" id="mainVisual-3">
			<div class="visual-container">
				<div class="visual-title">
					<h2>PRICING</h2>
					<h3>포인트 구매형과 서비스 구독형 요금제를 제공하고 있습니다.</h3>
				</div>
				<div class="prodCon contents">
					<div class="product">
						<h5>포인트 일반 구매</h5>
						<p>단기 사용 시 유리</p>
					</div>
					<div class="product">
						<h5>포인트 패키지 구매</h5>
						<p>포인트 구매 할인 상품</p>
					</div>
					<div class="product">
						<h5>정기구독</h5>
						<p>월 정기 서비스 구독 상품</p>
					</div>
					<div class="product full">
						<h5>서비스 별 포인트 사용 안내</h5>
						<p>MTA 서비스 사용 포인트는 1 포인트(현금 200원/분)를 기준으로 합니다.</p>
						<div class="innerProduct">
							<div class="policy"><p>Real Time<span class="pricePerUnit">60포인트/1시간</span></p></div>
							<div class="policy"><p>Cloud Debugging<span class="pricePerUnit">72포인트/1시간</span></p></div>
							<div class="policy"><p>Monitoring<span class="pricePerUnit">90포인트/1시간</span></p></div>
						</div>
					</div>
				</div>
				<div class="btnSet">
					<button class="btn big blue">요금제 상세보기</button>
				</div>
			</div>
		</section>

		<section class="sectionCon" id="mainVisual-4">
			<div class="animationContainer">
				<div class="tablet"></div>
				<div class="phone1"></div>
				<div class="phone2"></div>
			</div>
			<div class="visual-container">
				<div class="relativeContainer">
					<div class="visual-title">
						<h2>REAL DEVICE</h2>
						<h3>더 이상 단말기로 고민하지 마세요.</h3>
						<p>원하는 단말기로 필요할 때 테스트 하세요.<br/>
							최신 단말기에서 모바일 애플리케이션을 테스트하여<br/>
							가장 정확한 결과를 얻으실 수 있습니다.<br/>
						</p>
						<a href="/" id="butotnGoPhoneSearch">단말기 검색</a>
					</div>

					<div id="supportDevices" draggable="true">
						<div class="deviceList">
							<ul class="listDevice">
								<li class="deviceInfo">
									<p>단말기 이름</p>
									<span class="img">
										<img src="../images/download/phone.png" width="65" height="124"/>
									</span>
									<span class="info">Model 번호asdsadasdadsad</span>
									<span class="info">버전</span>
									<span class="info">SDK</span>
									<span class="info">해상도</span>
									<span class="info">제조사</span>
								</li>
								<li class="deviceInfo">
									<p>단말기 이름</p>
									<span class="img">
										<img src="../images/download/phone.png" width="65" height="124"/>
									</span>
									<span class="info">Model 번호asdsadasdadsad</span>
									<span class="info">버전</span>
									<span class="info">SDK</span>
									<span class="info">해상도</span>
									<span class="info">제조사</span>
								</li>
								<li class="deviceInfo">
									<p>단말기 이름</p>
									<span class="img">
										<img src="../images/download/phone.png" width="65" height="124"/>
									</span>
									<span class="info">Model 번호asdsadasdadsad</span>
									<span class="info">버전</span>
									<span class="info">SDK</span>
									<span class="info">해상도</span>
									<span class="info">제조사</span>
								</li>
								<li class="deviceInfo">
									<p>단말기 이름</p>
									<span class="img">
										<img src="../images/download/phone.png" width="65" height="124"/>
									</span>
									<span class="info">Model 번호asdsadasdadsad</span>
									<span class="info">버전</span>
									<span class="info">SDK</span>
									<span class="info">해상도</span>
									<span class="info">제조사</span>
								</li>
								<li class="deviceInfo">
									<p>단말기 이름</p>
									<span class="img">
										<img src="../images/download/phone.png" width="65" height="124"/>
									</span>
									<span class="info">Model 번호asdsadasdadsad</span>
									<span class="info">버전</span>
									<span class="info">SDK</span>
									<span class="info">해상도</span>
									<span class="info">제조사</span>
								</li>
							</ul>
						</div>
					</div><!-- supportDevices -->
				</div><!-- relativeContainer -->
			</div><!-- visual-container -->
		</section>

		<section class="sectionCon" id="mainVisual-5">
			<div class="visual-container">
				<div class="visual-title">
					<h2>함께하는 고객사</h2>
				</div>
				<div class="partnersList">
					<div class="partner">현대그룹</div>
					<div class="partner">SK 하이닉스</div>
					<div class="partner">광주은행</div>
					<div class="partner">현대자동차</div>
				</div>
			</div>
		</section>

	</div>

	<aside id="utilBtnBox">
		<ul>
			<li class="btnMenu"><a href="#">테스트시작</a></li>
			<li class="btnMenu"><a href="#">지원단말기</a></li>
			<li class="btnMenu"><a href="#">포인트충전</a></li>
			<li class="btnMenu"><a href="#">사용방법</a></li>
			<li class="btnMenu"><a href="#">1:1문의</a></li>
			<li class="toggle"></li>
		</ul>
	</aside>


	<script>
		$(document).ready(function(){
			
			var document = $(window);
			var mainContainers = $('section.sectionCon');
			var conOffsets = [];
			var saveVal = 0; var curIdx = 0;
			mainContainers.each(function(){
				conOffsets.push( parseInt($(this).offset().top) - 105 );
			});

			let utilBox 	= $('#utilBtnBox'),
				utilBtns 	= utilBox.find('li.btnMenu'),
				utilToggle 	= utilBox.find('li.toggle');
				utilToggle.on('click' , function(){ console.log( 'toggle!' , utilBtnBox );
					var target = $('#utilBtnBox');
					if( target.hasClass('active') ) target.removeClass('active');
					else target.addClass('active');
				});
			
			function switchContainer( t_scroll ){
				var t_idx = 0;
				for( let i=0; i<conOffsets.length; i++ ){ //console.log( conOffsets[i] , t_scroll , ' |  result : ' , t_scroll - conOffsets[i] < 0 );
					if( t_scroll - conOffsets[i] < 0 ){
						t_idx = i;
						break;
					}
				}
				mainContainers.removeClass('on').eq(t_idx).addClass('on');
				saveVal = t_scroll; curIdx = t_idx;
				//scrollToAni( conOffsets[t_idx] );
			}

			function switchContainerDir(direction){
				var t_idx = 0;
				var t_scroll = document[0].scrollY;
				
				if( direction === 'up' ){
					t_idx  = curIdx - 1;
					if( t_idx < 0 ) t_idx = 0;
				}else{
					t_idx = curIdx + 1;;
					if( t_idx >= conOffsets.length -1 ) t_idx = conOffsets.length -1;
				}

				console.log('direction : ' , direction , ' ' , t_idx , '  conOffsets[t_idx] : ' , conOffsets[t_idx]);
				mainContainers.removeClass('on').eq(t_idx).addClass('on');
				saveVal = t_scroll; curIdx = t_idx;

				console.log( utilBox );
				if( t_idx > 0 ) utilBox.fadeIn();
				else utilBox.fadeOut();

				/* setTimeout(function(){
					scrollToAni( conOffsets[t_idx] );
				} , 300); */
			}

			function scrollToAni( t_scroll ){
				/* $('html , body').animate({
					scrollTop : t_scroll
				},300); */
			}

			let timer = null; // 스크롤 이벤트 150ms 
			/* $(window).scroll(function(e){
				clearTimeout( timer ); 
				timer = setTimeout( function(){
					switchContainer(e.currentTarget.scrollY);
				}, 150 );
			}); */

			$(window).on('wheel' , function(e){  //console.log( e.originalEvent.deltaY , e.originalEvent.clientY , e.originalEvent.pageY );
				clearTimeout( timer ); 
				timer = setTimeout( function(){
					switchContainerDir( e.originalEvent.deltaY < 0 ? 'up' : 'down' );
				}, 100 );
			});
		});
	</script>


	<footer id="mainFooter" class="container">
		<div class="inner">
			<div class="top">
				<div class="logo">
					<h3><a href="#">MTA</a></h3>
				</div>
				<div class="linkBox">
					<button class="link"><i class="youtube"></i></button>
					<button class="link"><i class="google"></i></button>
					<button class="link"><i class="insta"></i></button>
					<button class="link"><i class="facebook"></i></button>
				</div>
			</div>
			<div class="bottom">
				<div class="customerCenter">
					<p><span>고객센터 02-6296-6000</span> <span class="ml10">09:00 ~ 18:00(주말,공휴일 휴무)</span></p>
					<p><address>서울시 강남구 테헤란로 510 루첸타워</address></p>
				</div>
				<div class="copyright">
					<div class="con">
						<span>by HYUNDAI-AUTOEVER MTA</span>
					</div>
				</div>
				<div class="compInfos">
					<p>
						<a href="/introduce">회사 소개</a>
						<a href="/introduce">이용 약관</a>
						<a href="/introduce">서비스 수준 약정</a>
						<a href="/introduce">개인 정보 처리 방침</a>
					</p>
				</div>
			</div>
		</div>	
	</footer>
<script src="./js/popup.js"></script>	
</body>
</html>